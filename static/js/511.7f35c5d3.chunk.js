"use strict";(globalThis.webpackChunkjira_assistant=globalThis.webpackChunkjira_assistant||[]).push([[511],{7154:(t,e,s)=>{s.d(e,{T2:()=>a,ZP:()=>n});var o=s(6666),i=s(1404),r=s.n(i);class n{constructor(){const t=new(r().Workbook);t.created=new Date,t.creator="Jira Assistant",t.lastModifiedBy="Jira Assistant",this.document=t}addTable(t){t=o(t);const e=this.normalizeSheetName(t.attr("export-sheet-name"));console.log("Exporting ",e),this.worksheet=this.document.addWorksheet(e),this.sheetOptions={mergeCells:[],width:{},styles:[],rowsToRemove:[],rowsToHide:[]},this.curRowNum=1;const s=t.find("> thead:not([exportignore]) > tr:not([exportignore])");this.prepareData(s),console.log("header rows",s.length);const i=t.find("> tbody:not([exportignore]) > tr:not([exportignore])");this.prepareData(i),console.log("bodyRows rows",i.length),this.worksheet.views=[{state:"frozen",xSplit:0,ySplit:s.length}],this.sheetOptions.mergeCells.forEach((t=>this.worksheet.mergeCells(t)));const r=this.sheetOptions.width;Object.keys(r).forEach((t=>{const e=this.worksheet.getColumn(t),s=parseFloat(r[t])/7.178;e.width=s})),this.sheetOptions.styles.forEach((t=>{const e=this.worksheet.getCell(t.key),s=t.style,o={};"left"!==s.textAlign&&(o.horizontal=s.textAlign),"left"!==s.verticalAlign&&(o.vertical=s.verticalAlign),e.alignment=o;const i=s.fontWeight||"";e.style.font={size:this.getFontSize(s.fontSize),bold:i.indexOf("bold")>-1||i>=550}})),this.sheetOptions.rowsToHide.forEach((t=>this.worksheet.getRow(t).hidden=!0)),this.sheetOptions.rowsToRemove.orderByDescending().forEach((t=>this.worksheet.spliceRows(t,1))),this.worksheet=null,this.sheetOptions=null,this.curRowNum=null}normalizeSheetName(t){return t?t.replace(/\[/g,"(").replace(/\]/g,")").replace(/:/g,"-").replace(/[?/\\]/g,""):t}trim(t){return t.replace(/^\s+|\s+$/gm,"")}getFontSize(t){return t?t.endsWith("px")?.75*parseInt(t.replace("px",""),10):t.endsWith("pt")?parseInt(t.replace("pt",""),10):t.endsWith("em")?.0833333*parseInt(t.replace("em",""),10):void 0:t}rgbaToHex(t){if(!t)return t;const e=t.substring(t.indexOf("(")).split(","),s=parseInt(this.trim(e[0].substring(1)),10),o=parseInt(this.trim(e[1]),10),i=parseInt(this.trim(e[2]),10);e[3]=e[3]||"1)";const r=parseFloat(this.trim(e[3].substring(0,e[3].length-1))).toFixed(2);return this.fixSize(s.toString(16))+this.fixSize(o.toString(16))+this.fixSize(i.toString(16))+this.fixSize((255*r).toString(16).substring(0,2))}fixSize(t){return 1===t.length?`0${t}`:t}prepareData(t){const e=this.worksheet,s=[];t.each(((t,i)=>{i=o(i);const r=this.getColArray(i,s);if(r){e.addRow(r).commit(),this.curRowNum++}}))}getColArray(t,e){const s=t.find("> th, > td"),i=[],r=!!t.attr("exportignore");return r&&this.sheetOptions.rowsToRemove.push(this.curRowNum),t.attr("exporthidden")&&this.sheetOptions.rowsToHide.push(this.curRowNum),s.each(((t,s)=>{for(;e[i.length]>0;)e[i.length]=e[i.length]-1,i[i.length]=null;let n=(s=o(s)).attr("exportValue");if(n||(n=s.text()),n&&!r){n=n.trim();switch(s.attr("exportType")){case"int":n=function(t){if(!t)return t;const e=parseInt(t,10);return isNaN(e)?t:e}(n);break;case"float":case"number":n=function(t){if(!t)return t;const e=parseFloat(t);return isNaN(e)?t:e}(n);break;case"date":n=l(n,!0);break;case"datetime":n=l(n,!1)}}i[i.length]=n;let a=s.attr("colspan")||1;const h=(s.attr("rowspan")||1)-1;h&&(e[i.length-1]=h);const c=this.numToChar(i.length),d=this.curRowNum;if(a>1||h>0){const t=this.numToChar(i.length+(a-1)),e=this.curRowNum+h;this.sheetOptions.mergeCells.push(`${c+d}:${t}${e}`)}if(!r){if(!a||a<2){const t=s.width();t>20&&(this.sheetOptions.width[c]=t)}this.sheetOptions.styles.push({key:c+d,style:window.getComputedStyle(s.get(0),null)})}for(;a>1;)a-=1,i[i.length]=null,h&&(e[i.length-1]=h)})),i}export(t){this.document.xlsx.writeBuffer().then((e=>{!function(t,e){const s=new FileReader;s.onload=function(o){!function(t,e,s){const o=btoa(t),i=`data:${e};base64,${o}`,r=document.createElement("a");"download"in r?(r.href=i,r.setAttribute("download",s),document.body.appendChild(r),setTimeout((function(){r.click(),document.body.removeChild(r)}),66)):document.location.href=i}(s.result,t.type,e)},s.readAsBinaryString(t)}(new Blob([e],{type:"application/octet-stream"}),`${t}.xlsx`)}))}charToNum(t){for(let e=0,s=1;e<s;e++,s++)t==this.numToChar(e)&&(s=e)}numToChar(t){const e=(t-1)%26,s=this.chr(65+e),o=parseInt((t-1)/26,10);return o>0?this.numToChar(o)+s:s}chr(t){return t>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):String.fromCharCode(t)}}const a={XLSX:"XLSX",CSV:"CSV",PDF:"PDF"};function l(t,e){if(!t)return t;const s=new Date(t);return isNaN(s.getTime())?t:s}},4918:(t,e,s)=>{s.d(e,{Xk:()=>m.X,ZP:()=>v,jn:()=>w});var o=s(7313),i=s(8915),r=s(8041),n=s(9168),a=s(6123),l=s.n(a),h=s(747),c=s(6666),d=s(8398),g=(s(8695),s(7154)),u=s(4711);class p{export(){this.format&&"XLSX"===this.format.toUpperCase()?this.exportToXlsx():this.format&&this.format===g.T2.PDF?this.exportToPDF():this.exportToCsv()}exportToXlsx(){const t=c(this.element),e=new g.ZP(g.T2.XLSX);t.find("table.exportable").each(((t,s)=>e.addTable(s))),e.export(this.fileName)}exportToCsv(){let t=c(this.element);t.is("table")||(t=t.find("table.exportable")),this.exportTable(t,t.attr("export-sheet-name")||this.fileName||"download")}exportToPDF(){const t=c(this.element).find("table.exportable:first-child"),e=t.attr("export-sheet-name")||this.fileName||"download",s=new d.default({orientation:"landscape",unit:"in",format:"a3"});s.autoTable({html:t.get(0)}),s.save(`${e}.pdf`)}exportTable(t,e){const s=[];let o=null;function i(t,e){const s=[];t.each(((t,o)=>{c(o).children("th,td").each(((o,i)=>{i=c(i);let r=s[t];for(r||(r=s[t]=[]);null!=r[o];)o++;const n=e[o];n&&n.noExport||(e[o]={noExport:i.is("[no-export]")||i.is(":hidden")&&!i.is("[force-export]")}),r[o]=function(t){const e={encode:!0,trim:!0};let s=t.attr("export-option");s=s&&s.length>10?c.extend(e,JSON.parse(s)):e;const o=t.find("[export-data]:first");let i=(t.attr("export-data")||o.attr("export-data")||o.text()||t.text()).replace(/\r?\n|\r/g," ");return s.trim&&(i=i.trim()),i.indexOf('"')>=0&&(i=i.replace(/"/g,'""')),s.encode&&i.indexOf(",")>=0&&(i=`"${i}"`),i}(i);let a=parseInt(i.attr("colspan"));for(;a>1;)r[o+a-1]="",a--;let l=parseInt(i.attr("rowspan"));for(;l>1;){let e=s[t+l-1];e||(e=s[t+l-1]=[]),e[o]="",l--}}))}));let o="";for(let r=0;r<s.length;r++){let t="";const n=s[r];for(let s=0;s<n.length;s++){var i;null!==(i=e[s])&&void 0!==i&&i.noExport||(t+=`,${n[s]||""}`)}o+=`${t.substring(1).replace(/\r?\n|\r/g," ")}\r\n`}return o}o="string"===typeof t?i(c(`#${t} thead:not([no-export]) tr:not([no-export]):visible`),s)+i(c(`#${t} tbody:visible tr:not([no-export]):visible`),s):i(t.find("thead:not([no-export]) tr:not([no-export]):visible"),s)+i(t.find("tbody:visible tr:not([no-export]):visible"),s),(0,u.ut)(o,e)}}var m=s(551),f=s(6303),x=s(459),k=s(6417);const w=new r.EventEmitter;class S extends o.PureComponent{constructor(t,e,s){super(t),this.eventReceived=t=>this.executeEvent(t),this.toggleFullScreen=()=>{let{isFullScreen:t}=this.state;t=!t,this.$analytics.trackEvent("Toggle full screen",x.Jk.GadgetActions,this.title,t),t?document.body.classList.add("fs-layout"):document.body.classList.remove("fs-layout"),this.columnResizeMode=t?"fit":"expand",this.setState({isFullScreen:t})},this.addWorklogOn=t=>{this.addWorklog({ticketNo:t})},this.removeGadget=()=>{this.$analytics.trackEvent("Gadget removed",x.Jk.GadgetActions,this.title),this.performAction(m.X.RemoveGadget)},this.exportData=t=>{const e=new p;e.fileName=this.title,e.format=t||this.exportFormat,e.element=this.el,this.$analytics.trackEvent("Export data",x.Jk.GadgetActions,e.format),e.export()},this.showGadgetGontextMenu=t=>(0,h.showContextMenu)(t,this.getContextMenu()),this.getHeader=()=>{const{title:t,subTitle:e,isGadget:s,props:{draggableHandle:o}}=this,i="gadget-header"+(o?" movable":"");return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{ref:o,className:i,onContextMenu:s?this.showGadgetGontextMenu:null,onDoubleClick:this.toggleFullScreen,children:[(0,k.jsx)("i",{className:`fa ${this.iconClass}`})," ",t," ",e&&(0,k.jsxs)("span",{children:[" - ",e]}),(0,k.jsxs)("div",{className:"pull-right",children:[this.renderCustomActions&&this.renderCustomActions(s),!this.hideRefresh&&this.getRefreshButton(),!this.hideMenu&&(0,k.jsx)(n.Z,{icon:"fa fa-wrench",onClick:t=>(0,h.showContextMenu)(t,this.getContextMenu())})]})]}),(0,k.jsx)("div",{className:"clearfix"})]})},this.setRef=t=>{this.el=t;const{dropProps:{dropConnector:e}={}}=this.props;e&&e(t)},(0,f.f)(this,"AnalyticsService"),this.title=e,this.iconClass=s,this.isGadget=!1!==t.isGadget,this.settings=t.settings||{fullWidth:!1,fullHeight:!1};const{fullWidth:o=!1,fullHeight:i=!1}=this.settings;this.state={fullWidth:o,fullHeight:i}}getContextMenu(){const{isFullScreen:t,fullWidth:e,fullHeight:s}=this.state,o=this.isGadget?[{separator:!0},{label:"Full width",icon:`fa fa-${e?"check-":""}circle fs-16 margin-r-5`,command:()=>this.setSizeOptions(!e,s)},{label:"Full height",icon:`fa fa-${s?"check-":""}circle fs-16 margin-r-5`,command:()=>this.setSizeOptions(e,!s)},{separator:!0},{label:"Remove",icon:"fa fa-remove",command:()=>this.removeGadget()}]:[],i=[];return this.hideExport||(i.push({separator:!0}),this.hideCSVExport||i.push({label:"Export to CSV",icon:"fa fa-file-text-o",disabled:!this.exportData,command:()=>this.exportData(g.T2.CSV)}),this.hideXLSXExport||i.push({label:"Export to Excel",icon:"fa fa-file-excel-o",disabled:!this.exportData,command:()=>this.exportData(g.T2.XLSX)}),this.hidePDFExport||i.push({label:"Export to PDF",icon:"fa fa-file-pdf-o",disabled:!this.exportData,command:()=>this.exportData(g.T2.PDF)})),[{label:"Toggle full screen",icon:"fa fa-"+(t?"compress":"expand"),command:()=>this.toggleFullScreen()},...i,...o]}componentDidMount(){this.isGadget&&(w.on("change",this.eventReceived),this.$analytics.trackEvent("Gadget loaded",x.Jk.GadgetActions,this.title))}componentWillUnmount(){w.off("change",this.eventReceived)}setSizeOptions(t,e){const{settings:s}=this;s.fullWidth=t,s.fullHeight=e,this.setState({fullWidth:t,fullHeight:e}),this.saveSettings()}UNSAFE_componentWillReceiveProps(t){if(this.settings!==t.settings){this.settings=t.settings||{};const{fullWidth:e,fullHeight:s}=this.settings;this.setState({fullWidth:e,fullHeight:s})}}performAction(t,e){const{onAction:s}=this.props;s&&s({type:t,data:e},this.props.model,this.props.index)}addWorklog(t){this.performAction(m.X.AddWorklog,t)}editWorklog(t){this.performAction(m.X.AddWorklog,{id:t})}saveSettings(){this.performAction(m.X.SettingsChanged,this.settings)}executeEvent(t){}getFullScreenButton(){if(this.isGadget)return null;const{state:{isFullScreen:t}}=this;return(0,k.jsx)(n.Z,{icon:t?"fa fa-compress":"fa fa-expand",onClick:this.toggleFullScreen,title:"Toggle full screen"})}getRefreshButton(t){const{disableRefresh:e,isLoading:s}=this.state;return(0,k.jsx)(n.Z,{icon:"fa fa-refresh",disabled:e||s,onClick:t||this.refreshData,title:"Refresh data"})}renderBase(t){const{fullWidth:e,fullHeight:s,isLoading:o,isFullScreen:r}=this.state,{isGadget:n,props:{tabLayout:a}}=this;if(a)return(0,k.jsxs)(k.Fragment,{children:[t,this.renderFooter&&this.renderFooter()]});const h=e||!n,c=s||!n,d=l()("gadget",this.className,{docked:!n,"full-width":h&&!r,"full-height":c&&!r,"half-width":!h&&!r,"half-height":!c&&!r,"full-screen":r});return(0,k.jsxs)("div",{ref:this.setRef,className:d,children:[o&&(0,k.jsx)("div",{className:"data-loader",children:(0,k.jsx)("i",{className:"fa fa-refresh fa-spin"})}),(0,k.jsxs)(i.Panel,{header:this.getHeader(),children:[t,this.renderFooter&&this.renderFooter()]})]})}render(){return(0,k.jsx)("div",{ref:this.setRef,className:"gadget half-width half-height",children:(0,k.jsx)(i.Panel,{header:"Gadget Unavailable",children:(0,k.jsx)("div",{className:"pad-22",children:"This section contains an un-known gadget. Please report about this issue to have it fixed!"})})})}}const v=S},1499:(t,e,s)=>{s.d(e,{Z:()=>c});s(7313);var o=s(4918),i=s(3997),r=s.n(i),n=s(9422),a=s(4616),l=s(6417);class h extends o.ZP{constructor(t,e,s){super(t,`Bulk import - [${e}]`,s),this.fileSelected=()=>{const t=this.fileSelector,e=t.files[0];if(e){if(!e.name.endsWith(".csv"))return this.$message.warning("Unknown file selected to import. Select a valid file to import"),void(t.value="");r().parse(e,{header:!0,transformHeader:this.transformHeader,skipEmptyLines:"greedy",complete:t=>{const{data:e}=t;e&&e.length||this.$message.warning("No rows found to import","No records exists"),this.processData(e)}})}t.value=""},this.getTicketLink=t=>(0,l.jsx)("a",{className:"link",href:this.$userutils.getTicketUrl(t),target:"_blank",rel:"noopener noreferrer",children:t}),this.setFileSelector=t=>this.fileSelector=t,this.chooseFileForImport=()=>this.fileSelector.click(),(0,a.f3)(this,"UserUtilsService"),this.isGadget=!1,this.hideRefresh=!0}formatDate(t){return t instanceof Date?this.$userutils.formatDateTime(t):t}renderCustomActions(){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("input",{ref:this.setFileSelector,type:"file",className:"hide",accept:".csv,.json, .xlsx",onChange:this.fileSelected}),(0,l.jsx)(n.zx,{icon:"fa fa-upload",onClick:this.chooseFileForImport,title:"Choose file to import"})]})}}const c=h},5511:(t,e,s)=>{s.r(e),s.d(e,{default:()=>k});s(7313);var o=s(1329),i=s(1499),r=s(4616),n=s(9422),a=s(4711),l=s(6417);const h="Will Import",c="Error",d="Excluded",g="ticketNo",u="startDate",p="timespent",m="comment",f={ticketno:g,ticket:g,issuekey:g,issue:g,key:g,id:g,startdate:u,started:u,logdate:u,loggeddate:u,worklogdate:u,date:u,timespent:p,timespentseconds:p,seconds:p,hoursspent:p,time:p,spent:p,comment:m,comments:m,description:m,details:m};class x extends i.Z{constructor(t){super(t,"Worklog","fa fa-clock-o"),this.transformHeader=t=>f[t.replace(/ /g,"").toLowerCase()]||null,this.importWorklogs=()=>{const{autoUpload:t,worklogData:e}=this.state,s=e.filter((t=>t.selected));if(t)this.uploadSelectedWorklogs(s);else{const t=s.map((t=>{t.selected=!1,t.disabled=!0;const{ticketNo:e,startDate:s,timespent:o,comment:i}=t,r=Math.floor(o/3600),n=Math.floor(o%3600/60),a={ticketNo:e,dateStarted:s,timeSpent:`${r.pad(2)}:${n.pad(2)}`,description:i};return this.$worklog.saveWorklog(a).then((e=>{t.id=e.id,t.status="Imported. Not Uploaded"}),(e=>{t.status=c,t.error=e}))}));Promise.all(t).then((()=>{this.$message.info("Worklog import completed. Upload it to Jira from Calendar or Worklog gadget."),this.setState({worklogData:[...e],selectedCount:""})}))}},this.toggleAllRows=()=>{let{selectAll:t,worklogData:e}=this.state;if(!e)return;t=!t;const s=t?h:d;e=[...e],e.forEach((e=>{e.disabled||(e.selected=t,e.status=s)})),this.setState({selectAll:t,worklogData:e,selectedCount:this.getSelectedLogs(e).length||""})},this.getSelectedLogs=t=>(t||this.state.worklogData).filter((t=>t.selected)),this.toggleAutoUpload=t=>this.setState({autoUpload:t}),this.toggleSelection=(t,e)=>{let{worklogData:s}=this.state;s=[...s],t.selected=!t.selected,t.status=t.selected?h:d,this.setState({worklogData:s,selectedCount:this.getSelectedLogs(s).length||""})},this.downloadTemplate=()=>{const t=(new Date).format("dd-MMM-yyyy HH:mm:ss"),e=["Ticket No,Start Date,Timespent,Comment",`JA-1001,${t},1w 2d 3h 4m,Logs 59 hours and 4 mins`,`JA-1001,${t},1d 1h,Logs 9 hours`,`JA-1002,${t},12.5,Logs 12 hours and 30 mins`,`JA-1003,${t},14:4,Logs 14 hours and 40 mins`,`JA-1003,${t},8,Logs 8 hours`];(0,a.ut)(e.join("\n"),"sample_worklog")},this.clearWorklogs=()=>{this.$q.reset(),this.setState({isLoading:!1,selectedCount:"",worklogData:null,ticketSummary:{},selectAll:!1})},(0,r.f3)(this,"UtilsService","UserUtilsService","TicketService","QueueService","WorklogService","SessionService","MessageService"),this.maxHrsToLog=this.$session.CurrentUser.maxHours;const e=this.$session.CurrentUser.autoUpload||!1;this.state={autoUpload:e,ticketSummary:{},selectedCount:""},this.$q.on("completed",(()=>{this.$message.info("Worklog upload completed"),this.setState({isLoading:!1,selectedCount:""})}))}processData(t){const e=t.map((t=>{let{ticketNo:e="",startDate:s="",timespent:o="",comment:i=""}=t;e=e.trim(),s=s.trim(),o=o.trim(),i=i.trim();let r=!0,n=!1,l=h,c="";const d=t=>{r=!1,n=!0,l="Invalid",c?c+=`;${t}`:c=t};if(e||d("Ticket No is required"),s){const t=this.$utils.convertDate(s);t instanceof Date?s=t:d("Log Date is invalid")}else d("Log Date is required");if(o){const t=(0,a.ZQ)(o);t>0?o=t:d("Timespent is invalid")}else d("Timespent is required");return{selected:r,disabled:n,status:l,error:c,ticketNo:e,startDate:s,timespent:o,comment:i}})),s=this.getSelectedLogs(e),o=s.map((t=>t.ticketNo)).distinct();this.$ticket.getTicketDetails(o,!0).then((t=>{const e=t.reduce(((t,e)=>{const{key:s,fields:{summary:o,assignee:i,issuetype:{iconUrl:r,name:n}={}}}=e,{displayName:a}=i||{};return t[s]={summary:o,assignee:a,issueTypeIcon:r,issueType:n},t}),{});this.setState({ticketSummary:e})}));const i=o.reduce(((t,e)=>(t[e]={summary:"Loading..."},t)),{});this.setState({worklogData:e,ticketSummary:i,selectAll:!0,selectedCount:s.length||""})}uploadSelectedWorklogs(t){t.groupBy((t=>t.ticketNo)).forEach((t=>{this.$q.add((()=>{const e=t.values;return 1===e.length?this.uploadWorklog(e[0]):e.reduce((async(t,e)=>(await t,this.uploadWorklog(e))),Promise.resolve())}))})),this.$q.start()}uploadWorklog(t){const{ticketNo:e,startDate:s,timespent:o,comment:i}=t;t.status="Uploading...",this.setState((t=>{let{worklogData:e}=t;return{worklogData:[...e]}}));return this.$worklog.upload(e,s,1e3*o,i).then((e=>{t.disabled=!0,t.selected=!1,t.status="Uploaded",t.worklogId=e.id,this.setState((t=>{let{worklogData:e}=t;return{worklogData:[...e]}}))}),(e=>{const{message:s,response:o,status:i,error:{errors:r,errorMessages:n}={}}=e;t.disabled=!0,t.selected=!1,t.status=c;const a=r&&Object.keys(r);return s?t.error=s:null!==a&&void 0!==a&&a.length?t.error=a.reduce(((t,e)=>{const s=r[e];return t?`${t}; ${s}`:s}),""):null!==n&&void 0!==n&&n.length?t.error=n.reduce(((t,e)=>t?`${t}; ${e}`:e),""):(null===o||void 0===o?void 0:o.length)>5&&o.length<=100?t.error=o:i&&(t.error=`Status Code: ${i}`),this.setState((t=>{let{worklogData:e}=t;return{worklogData:[...e]}})),Promise.resolve()}))}formatTimespent(t){return"number"===typeof t?this.$utils.formatSecs(t):t}renderFooter(){const{state:{autoUpload:t,isLoading:e,selectedCount:s}}=this;return(0,l.jsxs)("div",{className:"pnl-footer",children:[(0,l.jsx)("div",{className:"pull-left",children:(0,l.jsx)(n.XZ,{checked:t,label:"Directly upload worklog to Jira",disabled:e,onChange:this.toggleAutoUpload})}),(0,l.jsxs)("div",{className:"pull-right",children:[(0,l.jsx)(n.zx,{type:"info",icon:"fa fa-list",label:"Clear",disabled:e,onClick:this.clearWorklogs}),(0,l.jsx)(n.zx,{type:"success",icon:t?"fa fa-upload":"fa fa-floppy-o",disabled:e||!(s>0),label:t?`Upload ${s} worklogs`:`Import ${s} worklogs`,onClick:this.importWorklogs})]})]})}getWorklogLink(t){const{ticketNo:e,worklogId:s,status:o}=t;return(0,l.jsx)("a",{className:"link",href:this.$userutils.getWorklogUrl(e,s),target:"_blank",rel:"noopener noreferrer",children:o})}render(){const{worklogData:t,ticketSummary:e,selectAll:s}=this.state;return super.renderBase((0,l.jsx)("div",{className:"import-worklog",children:(0,l.jsxs)(o.TT,{dataset:t,className:"worklog-table",children:[(0,l.jsx)(o.Et,{children:(0,l.jsxs)(o.lE,{children:[(0,l.jsx)(o.sg,{children:(0,l.jsx)(n.XZ,{checked:s,onChange:this.toggleAllRows})}),(0,l.jsx)(o.sg,{sortBy:"ticketNo",children:"Ticket No"}),(0,l.jsx)(o.sg,{children:"Issue Type"}),(0,l.jsx)(o.sg,{children:"Summary"}),(0,l.jsx)(o.sg,{sortBy:"startDate",children:"Log Date"}),(0,l.jsx)(o.sg,{sortBy:"timespent",children:"Timespent"}),(0,l.jsx)(o.sg,{children:"Comment"}),(0,l.jsx)(o.sg,{children:"Assignee"}),(0,l.jsx)(o.sg,{sortBy:"status",children:"Status"})]})}),(0,l.jsx)(o.XP,{children:(t,s)=>{const o=e[t.ticketNo]||null,i=o||{summary:"Unavailable"};return(0,l.jsxs)("tr",{className:t.error?"row-error":"",children:[(0,l.jsx)("td",{children:(0,l.jsx)(n.XZ,{checked:t.selected,disabled:t.disabled,onChange:()=>this.toggleSelection(t,s)})}),o&&(0,l.jsx)("td",{children:this.getTicketLink(t.ticketNo)}),!o&&(0,l.jsx)("td",{children:t.ticketNo}),(0,l.jsxs)("td",{children:[i.issueTypeIcon&&(0,l.jsx)("img",{src:i.issueTypeIcon,alt:""})," ",i.issueType]}),(0,l.jsx)("td",{children:i.summary}),(0,l.jsx)("td",{children:this.formatDate(t.startDate)}),(0,l.jsx)("td",{children:this.formatTimespent(t.timespent)}),(0,l.jsx)("td",{children:t.comment}),(0,l.jsx)("td",{children:i.assignee}),t.worklogId&&(0,l.jsx)("td",{title:"Worklog uploaded successfully",children:this.getWorklogLink(t)}),!t.worklogId&&(0,l.jsxs)("td",{title:t.error,children:[t.error&&(0,l.jsx)("span",{className:"fa fa-exclamation-triangle msg-error"})," ",t.status]})]},s)}}),(0,l.jsxs)(o.ch,{span:9,children:["Upload the list of worklogs by clicking the ( ",(0,l.jsx)("span",{className:"fa fa-upload"})," ) icon in top right corner. Click ",(0,l.jsx)("span",{className:"link",onClick:this.downloadTemplate,children:"here"})," to download a sample template."]})]})}))}}const k=x}}]);