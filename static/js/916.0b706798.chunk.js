"use strict";(globalThis.webpackChunkjira_assistant=globalThis.webpackChunkjira_assistant||[]).push([[916],{6367:(e,s,t)=>{t.d(s,{Z:()=>l});var a=t(7313),r=t(232),i=t(3682),n=t(6417);class o extends a.PureComponent{constructor(){super(...arguments),this.year=(new Date).getFullYear()}render(){return(0,n.jsxs)("div",{className:"card-footer p-4",children:[(0,n.jsx)("div",{className:"pull-left",children:(0,n.jsxs)("span",{children:["\xa9 2016-",this.year," ",(0,n.jsx)("a",{href:i.ov,target:"_blank",rel:"noreferrer",children:"Jira Assistant"})," v",r.Hm]})}),(0,n.jsxs)("div",{className:"pull-right",style:{textAlign:"right"},children:[(0,n.jsxs)("span",{children:[(0,n.jsx)("i",{className:"fa fa-youtube"}),(0,n.jsx)("a",{href:"https://www.youtube.com/embed/HsWq7cT3Qq0?rel=0&autoplay=1&showinfo=0&cc_load_policy=1",target:"_blank",rel:"noopener noreferrer",title:"Click to open YouTube video guiding you to setup Jira Assistant",children:" Help setup"})]})," |",(0,n.jsxs)("span",{children:[(0,n.jsx)("i",{className:"fa fa-phone margin-l-5"}),(0,n.jsx)("a",{href:`${i.ky}?entry.1426640786=${r.Hm}&entry.972533768=${navigator.userAgent}`,target:"_blank",rel:"noopener noreferrer",title:"Click to report about any issues or ask a question",children:" Contact us"})]})]})]})}}const l=o},1916:(e,s,t)=>{t.r(s),t.d(s,{default:()=>g});var a=t(7313),r=t(5991),i=t(9165),n=t(4711),o=t(6552),l=t(915),c=t(3682),d=t(6367),h=t(9149),p=t(6848),u=t(6417);const m=document.location.href.indexOf("?quick=true")>-1?{minHeight:"380px",maxHeight:"380px"}:{};class x extends a.PureComponent{constructor(e){var s;super(e),this.integrate=()=>{const e=this.state.jiraUrl.trim().clearEnd("/").clearEnd("\\");this.tryIntegrate(e)},this.openDashboard=async e=>{if(!(e<=0)){try{await(0,l.$A)("SELF","RELOAD",[],this.$message)}catch(s){console.error("Unable to reload BG Listeners",s)}this.props.setAuthType?this.props.setAuthType(this.useExtn?"1":"2"):h.RX?(this.$jaBrowserExtn.openTab("/index.html"),window.close()):window.location.href="/index.html"}},(0,r.f3)(this,"MessageService","AppBrowserService","SessionService","JiraAuthService"),this.state={},this.useExtn="1"===(null===(s=e.match.params)||void 0===s?void 0:s.store),this.useExtn||(0,r.ZP)("2")}async tryIntegrate(e){this.setState({jiraUrl:e}),this.$session.rootUrl=e,this.setState({isLoading:!0});const{userId:s,password:t}=this.state;this.$jAuth.integrateWithCred(e,s,t).then(this.openDashboard,(s=>{if(401===(s=s||{}).status)this.$message.warning("You are not authenticated with Jira to integrate. Please verify your credentials.","Unauthorized");else{var t;const s=null===(t=(0,n.ir)(e))||void 0===t?void 0:t.clearEnd("/");s&&s!==e?o.Z.yesNo(`"${e}" is not a valid Jira Api base path. Would you like to try with "${s}" instead?`,"Change URL").then((()=>{this.tryIntegrate(s)})):this.$message.error("This is not a valid Jira server url or the server does not respond.","Unknown server")}})).then((()=>this.setState({isLoading:!1})))}render(){const{jiraUrl:e,userId:s,password:t,isLoading:a}=this.state;return(0,u.jsxs)("div",{className:"app flex-row align-items-center",style:m,children:[(0,u.jsx)("div",{className:"container",children:(0,u.jsx)("div",{className:"row justify-content-center",children:(0,u.jsx)("div",{className:"col-md-6 no-padding no-margin",style:{maxWidth:480,minWidth:460},children:(0,u.jsxs)("div",{className:"card mx-4 no-padding no-margin",children:[(0,u.jsxs)("div",{className:"card-body p-4",children:[(0,u.jsx)("h1",{children:"Jira Assistant"}),(0,u.jsxs)("p",{className:"text-muted",children:[(0,u.jsx)("strong",{children:"Integrate"})," with your Jira account"]}),(0,u.jsxs)("div",{className:"input-group mb-3",children:[(0,u.jsx)("div",{className:"input-group-prepend",children:(0,u.jsx)("span",{className:"input-group-text",children:(0,u.jsx)("i",{className:"fa fa-external-link"})})}),(0,u.jsx)(i.zC,{className:"form-control",value:e,onChange:e=>this.setState({jiraUrl:e}),placeholder:"Jira root url (eg: https://jira.example.com)"})]}),(0,u.jsxs)("div",{className:"input-group mb-3",children:[(0,u.jsx)("div",{className:"input-group-prepend",children:(0,u.jsx)("span",{className:"input-group-text",children:(0,u.jsx)("i",{className:"fa fa-user"})})}),(0,u.jsx)(i.zC,{className:"form-control",value:s,onChange:e=>this.setState({userId:e}),placeholder:"Your Jira login id"})]}),(0,u.jsxs)("div",{className:"input-group mb-3",children:[(0,u.jsx)("div",{className:"input-group-prepend",children:(0,u.jsx)("span",{className:"input-group-text",children:(0,u.jsx)("i",{className:"fa fa-lock"})})}),(0,u.jsx)(i.zC,{type:"password",className:"form-control",value:t,onChange:e=>this.setState({password:e}),placeholder:"Password / Rest API Token"})]}),(0,u.jsxs)("p",{className:"text-muted",children:[(0,u.jsx)("strong",{children:"Note:"})," Credentials are stored in browser's cache storage. Use Jira Rest Api Token instead of password for better security. Learn more about ",(0,u.jsx)("a",{href:c.Yw,target:"_blank",rel:"noreferrer",children:"Rest Api Tokens"}),"."]}),(0,u.jsx)(i.zx,{type:"success",className:"btn-block",icon:a?"fa fa-spinner fa-spin":"fa fa-unlock-alt",disabled:!e||a,onClick:this.integrate,label:"Integrate"})]}),(0,u.jsx)(d.Z,{})]})})})}),(0,u.jsx)(o.Q,{})]})}}const g=(0,p.E)(x)}}]);